function TodoItem(a){a=a||{},this.description=a.description||"No task? That's not helpful!",this.complete=!1,this.uniqueID=_.uniqueId("todo-")}function itemCount(){var a=_.where(todoArray,{complete:!1}),b=_.where(todoArray,{complete:!0}),c=b.length,d=a.length;$(".js-todo-left").empty().text("Item Count: "+d),$(".js-completed-clear").empty().text("Clear Completed: "+c)}function addNewTodo(){var a={description:$(".js-description-input").val()};todoArray.push(new TodoItem(a)),$(".list-items").html(""),_.each(todoArray,function(a){$(".list-items").prepend(itemTemplate(a))}),$(".js-description-input").val("")}console.log("Take: 327,820,965,434");var itemTemplate=_.template($(".item-template").text()),todoArray=[];$(document).ready(function(){$(".js-description-input").bind({mouseenter:function(){$(this).focus()},mouseleave:function(){$(this).blur()}}),$(".js-add-btn").click(function(){""!==$(".js-description-input").val()&&(addNewTodo(),itemCount())}),$(".js-description-input").on("keypress",function(a){13===a.which&&""!==$(this).val&&(addNewTodo(),itemCount())}),$(".list-items").on("click",".js-complete-btn",function(){$(this).siblings(".complete-item").show(),$(this).parent().addClass("completeClass");var a=_.findWhere(todoArray,{uniqueID:$(this).parent().attr("id")});a.complete=!0,itemCount()}),$(".list-items").on("click",".complete-item",function(){$(this).hide(),$(this).parent().removeClass("completeClass");var a=_.findWhere(todoArray,{uniqueID:$(this).parent().attr("id")});a.complete=!1,itemCount()}),$(".list-items").on("click",".js-edit-btn",function(){$(this).siblings(".js-edit-description").show(),$(this).siblings().children(".js-edit-input").focus()}),$(".list-items").on("dblclick",".item-description",function(){$(this).siblings(".js-edit-description").show(),$(this).siblings().children(".js-edit-input").focus()}),$(".list-items").on("blur",".js-edit-input",function(){var a=$(this),b=a.val(),c=_.findWhere(todoArray,{uniqueID:a.closest(".list-item").attr("id")});c.description=b,a.parent().siblings(".item-description").empty().html(b),a.parent().hide()}),$(".list-items").on("click",".js-remove-btn",function(){var a=_.findWhere(todoArray,{uniqueID:$(this).parent().attr("id")});$(this).parent().remove(),todoArray=_.reject(todoArray,function(b){return b.uniqueID===a.uniqueID}),itemCount()}),$(".trackers").on("click",".js-todo-all",function(){$(".list-items").html(""),_.each(todoArray,function(a){$(".list-items").prepend(itemTemplate(a))})}),$(".trackers").on("click",".js-todo-active",function(){var a=_.where(todoArray,{complete:!1});$(".list-items").html(""),_.each(a,function(a){$(".list-items").prepend(itemTemplate(a))})}),$(".trackers").on("click",".js-todo-complete",function(){var a=_.where(todoArray,{complete:!0});$(".list-items").html(""),_.each(a,function(a){$(".list-items").prepend(itemTemplate(a))})}),$(".trackers").on("click",".js-completed-clear",function(){todoArray=_.reject(todoArray,function(a){return a.complete===!0}),$(".list-items").html(""),_.each(todoArray,function(a){$(".list-items").prepend(itemTemplate(a))}),itemCount()})});